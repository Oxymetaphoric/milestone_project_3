{% extends "base.html" %}
{% block content %}
<div class="row">
  <form class="col s12 m8 offset-m2" method="POST" action="{{url_for('edit_game', game_id=game.game_id)}}">
    <h2 class="center-align">edit game</h2>
    <div class="card-panel">
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input value="{{game.game_title}}" name="game_title" id="game_title" type="text" class="validate">
              <label for="game_title">title</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input value="{{game.game_publisher}}" name="game_publisher" id="game_publisher" type="text" class="validate">
              <label for="game_publisher">publisher</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input value="{{game.developer}}" name="developer" id="developer" type="text" class="validate">
              <label for="developer">developer</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input value="{{game.release_date}}" name="release_date" id="release_date" type="text" class="datepicker validate">
              <label for="release_date">release date</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input  value="{{game.genre}}" name="genre" id="genre" type="text" class="validate">
              <label for="genre">genre</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input value="{{game.image_url}}" name="image_url" id="image_url" type="text" class="validate">
              <label for="image_url">image link</label>
            </div>
          </div>
          <div class="row">
            <button class="col offset-s2 m6 offset-m3 s8 center-align btn waves-effect waves-light green" type="submit" name="action">Submit
            </button>
          </div>
        </form>
        <br>
        {% if current_user.is_admin %}
          <div class="row">
            <div class="col m6 offset-m3">
              <form style="display: inline;"
                method="POST" 
                action="{{ url_for('delete_game', game_id=game.game_id) }}" 
                onsubmit="return confirm('Are you sure you want to delete this game?');">
                <button type="submit"
                  class="col offset-s2 offset-m2 m8 s8 center-align btn waves-effect waves-light red">
                  Delete Game
                </button>
              </form>
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </form>
</div>
{% endblock %}
